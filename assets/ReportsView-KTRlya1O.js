import{_ as x,c,a as t,t as l,F as h,r as f,b as w,d as _,e as C,f as m,o as i,n as p}from"./index-C-tVTio9.js";const D={setup(){const d=_([]);C(()=>{const a=localStorage.getItem("assets");a&&(d.value=JSON.parse(a))});const s=m(()=>d.value.reduce((a,o)=>a+o.currentBalance,0)),u=m(()=>d.value.length),e=m(()=>{const a=[];return d.value.forEach(o=>{o.transactions.forEach(n=>{a.push({...n,assetId:o.id})})}),a.sort((o,n)=>{const g=new Date(n.date)-new Date(o.date);return g!==0?g:n.id-o.id}).slice(0,5)}),b=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),y=a=>new Date(a).toLocaleDateString("id-ID"),r=a=>{const o=new Date;return o.setDate(o.getDate()-30),a.transactions.filter(n=>new Date(n.date)>=o).reduce((n,g)=>n+g.amount,0)};return{assets:d,totalAssets:s,assetCount:u,recentTransactions:e,formatCurrency:b,formatDate:y,calculate30DayChange:r,getChangeClass:a=>a>=0?"positive":"negative",getAssetName:a=>{const o=d.value.find(n=>n.id===a);return o?o.name:"Unknown"},getTotal30DayChangeRaw:()=>{let a=0;return d.value.forEach(o=>{a+=r(o)}),a}}}},v={class:"reports-view p-4 max-w-6xl mx-auto"},T={class:"summary-item bg-[#282a31] rounded-lg p-6 shadow-lg border border-gray-700 mb-8"},k={class:"text-2xl font-bold text-[#35d58d]"},A={class:"summary-item bg-[#282a31] rounded-lg p-6 shadow-lg border border-gray-700 mb-8"},I={class:"text-2xl font-bold text-[#35d58d]"},N={class:"section bg-[#282a31] rounded-lg p-4 shadow-lg border border-gray-700 mb-8"},R={class:"change-list space-y-3"},B={class:"text-gray-200 mr-5 whitespace-nowrap"},E={class:"flex justify-end mr-2 text-sm"},F={class:"section bg-[#282a31] rounded-lg shadow-lg border border-gray-700 w-full"},S={class:"overflow-x-auto pb-3"},J={class:"w-full border-t border-gray-700 pt-4"},L={key:0},V={class:"py-3 px-5 text-gray-400 text-sm"},j={class:"py-3 px-5 text-[#35d58d] font-medium"},z={class:"py-3 px-5 text-gray-300"};function H(d,s,u,e,b,y){return i(),c("div",v,[s[6]||(s[6]=t("h1",{class:"text-2xl font-bold text-[#35d58d] mb-8"},"Laporan Keuangan",-1)),t("div",T,[s[0]||(s[0]=t("h3",{class:"text-gray-400 text-sm uppercase tracking-wider mb-2"},"Total Asset",-1)),t("p",k,l(e.formatCurrency(e.totalAssets)),1)]),t("div",A,[s[1]||(s[1]=t("h3",{class:"text-gray-400 text-sm uppercase tracking-wider mb-2"},"Jumlah Asset",-1)),t("p",I,l(e.assetCount),1)]),t("div",N,[s[2]||(s[2]=t("h2",{class:"text-xl font-semibold text-gray-200 mb-4 border-b border-gray-700 pb-2"},"Perubahan 30 Hari Terakhir",-1)),t("div",R,[(i(!0),c(h,null,f(e.assets,r=>(i(),c("div",{key:r.id,class:"change-item flex justify-between items-center py-3 px-4 bg-gray-700/50 p-4 rounded-t-lg border border-gray-600 mb-5 hover:bg-gray-700/50 transition-colors overflow-x-auto"},[t("span",B,l(r.name),1),t("span",{class:p(["font-medium ml-5 whitespace-nowrap",e.getChangeClass(e.calculate30DayChange(r))])},l(e.calculate30DayChange(r)>=0?"+"+e.formatCurrency(e.calculate30DayChange(r)):e.formatCurrency(e.calculate30DayChange(r))),3)]))),128))]),t("div",E,"Total (Change): "+l(e.getTotal30DayChangeRaw()>=0?"+"+e.formatCurrency(e.getTotal30DayChangeRaw()):e.formatCurrency(e.getTotal30DayChangeRaw())),1)]),t("div",F,[s[5]||(s[5]=t("div",{class:"p-6"},[t("h2",{class:"text-xl font-semibold text-gray-200 mb-4 border-b border-gray-700 pb-2"},"Transaksi Terakhir")],-1)),t("div",S,[t("table",J,[s[4]||(s[4]=t("thead",null,[t("tr",{class:"text-gray-400 text-left border-b border-gray-700"},[t("th",{class:"pt-2 pb-3 font-medium px-5"},"Tanggal"),t("th",{class:"pt-2 pb-3 font-medium px-5"},"Asset"),t("th",{class:"pt-2 pb-3 font-medium px-5"},"Deskripsi"),t("th",{class:"pt-2 pb-3 font-medium text-right px-5"},"Jumlah")])],-1)),t("tbody",null,[e.recentTransactions.length===0?(i(),c("tr",L,s[3]||(s[3]=[t("td",{colspan:"4",class:"text-center py-8 text-gray-500"}," Belum ada transaksi ",-1)]))):w("",!0),(i(!0),c(h,null,f(e.recentTransactions,r=>(i(),c("tr",{key:r.id,class:"border-b border-gray-700 hover:bg-gray-700/50 transition-colors"},[t("td",V,l(e.formatDate(r.date)),1),t("td",j,l(e.getAssetName(r.assetId)),1),t("td",z,l(r.description.length>14?r.description.substring(0,15)+"...":r.description),1),t("td",{class:p(["py-3 px-5 font-bold text-right text-nowrap",r.amount>=0?"text-[#35d58d]":"text-red-400"])},l(e.formatCurrency(r.amount)),3)]))),128))])])])])])}const U=x(D,[["render",H],["__scopeId","data-v-bafeb06a"]]);export{U as default};
