import{_ as x,c as f,a as e,t as c,d as y,o as k,e as g,f as w}from"./index-CPNDZ2DH.js";const D={setup(){const l=y([]);k(()=>{const s=localStorage.getItem("assets");s&&(l.value=JSON.parse(s))});const t=g(()=>l.value.reduce((s,r)=>s+r.currentBalance,0)),b=g(()=>l.value.length),a=g(()=>l.value.reduce((s,r)=>s+r.transactions.length,0));return{totalAssets:t,assetCount:b,transactionCount:a,formatCurrency:s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),exportData:()=>{const s={assets:localStorage.getItem("assets"),exportedAt:new Date().toISOString()},r=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),i=URL.createObjectURL(r),n=document.createElement("a");n.href=i,n.download=`backup-asset-${new Date().toISOString().split("T")[0]}.json`,n.click(),URL.revokeObjectURL(i)},importData:()=>{const s=document.createElement("input");s.type="file",s.accept=".json",s.onchange=r=>{const i=r.target.files[0],n=new FileReader;n.onload=u=>{try{const d=JSON.parse(u.target.result);if(!d.assets)throw new Error("Format file tidak valid");localStorage.setItem("assets",d.assets),alert("Data berhasil diimpor! Aplikasi akan direfresh."),setTimeout(()=>location.reload(),1e3)}catch(d){alert("Gagal mengimpor data: "+d.message)}},n.readAsText(i)},s.click()},resetData:()=>{confirm("Apakah Anda yakin ingin mereset semua data? Tindakan ini tidak dapat dibatalkan.")&&(localStorage.removeItem("assets"),alert("Data telah direset. Aplikasi akan direfresh."),setTimeout(()=>location.reload(),1e3))}}}},v={class:"settings-view py-6 px-2 mx-auto"},h={class:"bg-[#282a31] rounded-lg shadow-lg border border-gray-700 p-6 mb-8"},S={class:"action-buttons grid grid-cols-1 md:grid-cols-3 gap-4"},A={class:"bg-[#282a31] rounded-lg shadow-lg border border-gray-700 p-6"},C={class:"stat-item bg-gray-700/50 p-4 rounded-lg border border-gray-600 mb-5"},I={class:"block text-2xl font-bold text-[#35d58d]"},j={class:"stats gap-4 flex justify-between content-center"},_={class:"stat-item bg-gray-700/50 p-4 rounded-lg border border-gray-600 w-full"},T={class:"block text-2xl font-bold text-[#35d58d]"},O={class:"stat-item bg-gray-700/50 p-4 rounded-lg border border-gray-600 w-full"},R={class:"block text-2xl font-bold text-[#35d58d]"};function B(l,t,b,a,m,p){return w(),f("div",v,[e("div",h,[t[6]||(t[6]=e("h2",{class:"text-xl font-semibold text-gray-200 mb-4 border-b border-gray-700 pb-2"},"Manage Data",-1)),e("div",S,[e("button",{onClick:t[0]||(t[0]=(...o)=>a.exportData&&a.exportData(...o)),class:"w-full md:w-auto cursor-pointer btn-export flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 text-[#35d58d] hover:text-green-300 py-3 px-4 rounded-lg transition-colors duration-200 border border-[#4dd598]/20"},t[3]||(t[3]=[e("span",{class:"icon ml-[-0.2rem]"},"üì§",-1),e("span",{class:"whitespace-nowrap"},"Ekspor Data",-1)])),e("button",{onClick:t[1]||(t[1]=(...o)=>a.importData&&a.importData(...o)),class:"w-full md:w-auto cursor-pointer btn-import flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 text-[#35d58d] hover:text-green-300 py-3 px-4 rounded-lg transition-colors duration-200 border border-[#4dd598]/20"},t[4]||(t[4]=[e("span",{class:"icon ml-[-0.2rem]"},"üì•",-1),e("span",{class:"whitespace-nowrap"},"Impor Data",-1)])),e("button",{onClick:t[2]||(t[2]=(...o)=>a.resetData&&a.resetData(...o)),class:"w-full md:w-auto cursor-pointer btn-reset flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 text-red-400 hover:text-red-300 py-3 px-4 rounded-lg transition-colors duration-200 border border-red-400/20"},t[5]||(t[5]=[e("span",{class:"icon ml-[-0.2rem]"},"‚ö†Ô∏è",-1),e("span",{class:"whitespace-nowrap"},"Reset Data",-1)]))])]),e("div",A,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold text-gray-200 mb-4 border-b border-gray-700 pb-2"},"Statistik",-1)),e("div",C,[t[7]||(t[7]=e("span",{class:"block text-gray-400 text-sm mb-1"},"Total Asset",-1)),e("strong",I,c(a.formatCurrency(a.totalAssets)),1)]),e("div",j,[e("div",_,[t[8]||(t[8]=e("span",{class:"block text-gray-400 text-sm mb-1"},"Jumlah Asset",-1)),e("strong",T,c(a.assetCount),1)]),e("div",O,[t[9]||(t[9]=e("span",{class:"block text-gray-400 text-sm mb-1"},"Total Transaksi",-1)),e("strong",R,c(a.transactionCount),1)])])])])}const F=x(D,[["render",B]]);export{F as default};
